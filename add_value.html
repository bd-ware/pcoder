<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>SQL Insert Generator + Auto Table</title>
<style>
body{font-family:Arial,sans-serif;background:#fff;margin:0;padding:20px;display:flex;justify-content:center}
.container{background:#fff;padding:20px;border-radius:12px;max-width:650px;width:100%;box-shadow:0 2px 6px rgba(0,0,0,0.1)}
h2{text-align:center;margin-bottom:20px;color:#333}
label{font-weight:bold;margin:8px 0 4px;display:block;color:#444}
input,select,textarea,button{width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;font-size:16px;margin-bottom:12px;box-sizing:border-box}
input:focus,select:focus,textarea:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px rgba(0,123,255,0.3)}
button{background:#007bff;border:none;color:#fff;font-weight:bold;cursor:pointer;transition:0.3s}
button:hover{background:#0056b3}
textarea{resize:none;height:250px;font-family:monospace;font-size:14px;background:#f9f9f9}
.col-row{display:flex;flex-direction:column;gap:6px;margin-bottom:15px;padding:10px;border:1px solid #ddd;border-radius:8px;background:#f9f9f9}

/* PROFESSIONAL CHECKBOX STYLE */
.checkbox-row{display:flex;align-items:center;gap:10px;cursor:pointer;user-select:none}
.checkbox-row input[type=checkbox]{display:none}
.checkbox-row .checkmark{
  width:28px;
  height:28px;
  border-radius:6px;
  border:2px solid #ccc;
  background:#f9f9f9;
  position:relative;
  transition:0.3s;
  flex-shrink:0;
}
.checkbox-row:hover .checkmark{border-color:#007bff;transform:scale(1.1);}
.checkbox-row input[type=checkbox]:checked + .checkmark{background:#007bff;border-color:#007bff;}
.checkbox-row .checkmark::after{
  content:"";
  position:absolute;
  display:none;
  left:8px;
  top:4px;
  width:6px;
  height:12px;
  border:solid white;
  border-width:0 2px 2px 0;
  transform:rotate(45deg);
}
.checkbox-row input[type=checkbox]:checked + .checkmark::after{display:block;}
.checkbox-row label{margin-left:10px;font-weight:600;color:#444;transition:0.3s;}
.checkbox-row:hover label{color:#007bff;}

.autoTableBox{display:flex;align-items:center;gap:10px;margin:10px 0;padding:8px;background:#f8f8f8;border-radius:8px;border:1px solid #ddd}
.autoTableBox input{width:auto;transform:scale(1.3)}

#toast{display:none;min-width:200px;background:#28a745;color:#fff;text-align:center;border-radius:8px;padding:12px;position:fixed;bottom:20px;left:50%;transform:translateX(-50%);z-index:9999;opacity:.95;font-weight:bold}

#addCol,#clearCols,#generate,#copy{padding:12px 0;border-radius:8px;font-size:16px;font-weight:bold;border:none;cursor:pointer;transition:0.3s;width:100%;box-sizing:border-box;}
#addCol{background:#007bff;color:#fff;margin-bottom:10px;}
#addCol:hover{background:#0056b3;}
#clearCols{background:#dc3545;color:#fff;margin-bottom:10px;}
#clearCols:hover{background:#a71d2a;}
@media (min-width:641px){#addCol,#clearCols{width:auto;display:inline-block;padding:10px 12px;margin-right:10px;}}
</style>
</head>
<body>
<div class="container">
<h2>SQL Insert Data Generator</h2>

<label>Table Name</label>
<input id="tableName" type="text" placeholder="Example: users">

<div class="autoTableBox">
  <input type="checkbox" id="autoTable" checked>
  <label for="autoTable" style="margin:0;font-weight:normal;">Auto Create Table if Not Exist</label>
</div>

<label>Columns & Values</label>
<div id="cols"></div>

<button id="addCol">Add Column + Value</button>
<button id="clearCols">Clear All</button>
<button id="generate">Generate SQL</button>

<label>Preview & Result</label>
<textarea id="sqlOut" readonly></textarea>
<button id="copy">Copy</button>
</div>

<div id="toast">Copied</div>

<script>
const colsEl=document.getElementById('cols')
const addColBtn=document.getElementById('addCol')
const clearColsBtn=document.getElementById('clearCols')
const generateBtn=document.getElementById('generate')
const sqlOut=document.getElementById('sqlOut')
const tableNameEl=document.getElementById('tableName')
const copyBtn=document.getElementById('copy')
const toast=document.getElementById('toast')
const autoTable=document.getElementById('autoTable')

function createColRow(name='', value=''){
  const row=document.createElement('div');row.className='col-row'

  const nameInput=document.createElement('input');nameInput.type='text';nameInput.placeholder='Column name (e.g., email)';nameInput.value=name
  const valueInput=document.createElement('input');valueInput.type='text';valueInput.placeholder='Value (e.g., test@example.com)';valueInput.value=value

  const chk=document.createElement('input');chk.type='checkbox';chk.id='chk_'+Math.random().toString(36).substr(2,5)
  const lbl=document.createElement('label');lbl.setAttribute('for',chk.id);lbl.textContent='Check Exists'
  const box=document.createElement('div');box.className='checkbox-row';box.appendChild(chk);box.appendChild(document.createElement('span'));box.appendChild(lbl)

  const del=document.createElement('button');del.textContent='Delete';del.style.background='#dc3545';del.style.marginTop='6px';del.onclick=()=>row.remove()
  row.appendChild(nameInput);row.appendChild(valueInput);row.appendChild(box);row.appendChild(del)
  colsEl.appendChild(row)
}

addColBtn.addEventListener('click',()=>createColRow())
clearColsBtn.addEventListener('click',()=>{colsEl.innerHTML=''})

generateBtn.addEventListener('click',()=>{
  const table=tableNameEl.value.trim()||'my_table'
  const rows=Array.from(colsEl.querySelectorAll('.col-row'))
  const cols=[];const vals=[]
  rows.forEach(r=>{
    const name=r.querySelectorAll('input')[0].value.trim()
    const value=r.querySelectorAll('input')[1].value.trim()
    if(!name) return
    cols.push(name)
    vals.push("'"+value.replace(/'/g,"''")+"'")
  })
  if(!cols.length){sqlOut.value='No columns added'; return;}
  let sql='';
  if(autoTable.checked){
    sql+=`CREATE TABLE IF NOT EXISTS ${table} (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  ${cols.map(c=>c+' TEXT').join(',\n  ')}\n);\n\n`
  }
  sql+=`INSERT INTO ${table} (${cols.join(', ')}) VALUES (${vals.join(', ')});`
  sqlOut.value=sql
})

copyBtn.addEventListener('click',async()=>{
  const txt=sqlOut.value;if(!txt)return alert('Nothing to copy — generate first.')
  try{await navigator.clipboard.writeText(txt);toast.style.display='block';setTimeout(()=>toast.style.display='none',2000)}
  catch(e){alert('Copy failed — browser not supported.')}
})
</script>
</body>
</html>